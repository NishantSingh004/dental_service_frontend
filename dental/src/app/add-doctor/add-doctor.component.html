<div class="container">
  <div class="form-container">
    <div class="title">Add Doctor</div>
    <form [formGroup]="doctors">
      <mat-form-field class="patient" appearance="outline">
        <mat-label>Doctor Name</mat-label>
        <input type="text" matInput formControlName="name" />

        <mat-error *ngIf="doctors.controls.name.invalid">
          {{
            doctors.controls.name.hasError("required") ? "Name is required" : ""
          }}
        </mat-error>
      </mat-form-field>
      <div class="sub-form">
        <mat-form-field class="sub-forms" appearance="outline">
          <mat-label>Phone</mat-label>
          <input type="tel" matInput formControlName="phone" />
          <mat-error *ngIf="doctors.get('phone')?.invalid">
            {{
              doctors.get("phone")?.hasError("required")
                ? "Phone No is required"
                : ""
            }}
          </mat-error>
        </mat-form-field>
        <mat-form-field class="sub-forms" appearance="outline">
          <mat-label>Email</mat-label>
          <input type="email" matInput formControlName="email" />
          <mat-error *ngIf="doctors.get('email')?.invalid">
            {{
              doctors.get("email")?.hasError("required")
                ? "email is required"
                : "Please enter a valid email"
            }}
          </mat-error>
        </mat-form-field>
      </div>

      <mat-form-field>
        <mat-label>Specialty</mat-label>
        <mat-select formControlName="role">
          @for (Role of Roles; track Role) {
          <mat-option [value]="Role.value">{{ Role.viewValue }}</mat-option>
          }
        </mat-select>
        <mat-error *ngIf="doctors.get('role')?.invalid">
          {{ doctors.get("role")?.hasError("role") ? "role is required" : "" }}
        </mat-error>
      </mat-form-field>
    </form>
    <div class="buttons-container">
      <button
        (click)="addDoctor()"
        mat-raised-button
        class="login-button"
        [disabled]="doctors.invalid"
      >
        Add Doctor
      </button>
    </div>
  </div>
</div>
