import{a as G}from"./chunk-UYILTDBF.js";import{a as $}from"./chunk-TZBKMT2C.js";import{a as Y}from"./chunk-GVQSUSEC.js";import"./chunk-SCUENCVS.js";import{c as z}from"./chunk-EM67NHJN.js";import"./chunk-JWFPSY3G.js";import{a as D,b as L,c as B,d as T,e as N,f as F,h as j}from"./chunk-7RYVJ5ZG.js";import{Q as V,T as R}from"./chunk-FTBPRRUE.js";import{$b as i,Ab as _,Jb as o,Jc as E,Kb as e,Kc as I,Lb as P,Mb as O,Oc as A,Pb as u,Pc as k,Rb as s,_b as w,ac as C,bb as r,bc as m,e as J,fa as d,jc as h,kc as v,lc as S,oa as g,ob as M,pa as f,pc as y,tb as x}from"./chunk-ZDRYPNXQ.js";var b=J(Y());function q(a,n){if(a&1){let t=O();o(0,"div",7)(1,"mat-card",8)(2,"mat-card-header",9)(3,"div",10)(4,"mat-card-title"),i(5),e(),o(6,"mat-card-subtitle"),i(7),e()(),o(8,"div",11),u("click",function(){let c=g(t).$implicit,l=s(2);return f(l.deleteAppointment(c._id))}),P(9,"i",12),e()(),o(10,"mat-card-content")(11,"div")(12,"strong"),i(13,"Phone:"),e(),i(14),e(),o(15,"div")(16,"strong"),i(17,"DOB:"),e(),i(18),h(19,"date"),e(),o(20,"div")(21,"strong"),i(22,"Appointment Date:"),e(),i(23),h(24,"date"),e(),o(25,"div")(26,"strong"),i(27,"Message:"),e(),i(28),e()(),o(29,"mat-card-actions")(30,"button",13),u("click",function(){let c=g(t).$implicit,l=s(2);return f(l.assignDoctor(c))}),i(31," Assign Doctor "),e()()()()}if(a&2){let t=n.$implicit;r(5),C(t.name),r(2),C(t.email),r(7),m(" ",t.phone,""),r(4),m(" ",v(19,6,t.dob),""),r(5),m(" ",v(24,8,t.date)," "),r(5),m(" ",t.message,"")}}function K(a,n){if(a&1&&(o(0,"div"),x(1,q,32,10,"div",6),e()),a&2){let t=s();r(),_("ngForOf",t.appointments)}}function Q(a,n){a&1&&(o(0,"p"),i(1,"No appointments booked yet."),e())}var H=class a{appointmentService=d($);router=d(z);cdr=d(y);appointments=[];ngOnInit(){this.appointmentService.getAppointment().subscribe({next:n=>{this.appointments=n,this.appointmentService.appointmentSet=n,localStorage.setItem("appointment",JSON.stringify(n));let t=this.appointments.reduce((p,c)=>p+1,0);this.appointmentService.setPatientCount(t),this.cdr.detectChanges()}})}deleteAppointment(n){this.appointmentService.deleteAppointment(n).subscribe({next:()=>{this.appointments=this.appointments.filter(t=>t._id!==n),b.default.fire({title:"Notification",text:"Appointment deleted successfully!",icon:"info",iconColor:"rgb(3, 108, 95)",confirmButtonText:"Close",confirmButtonColor:"rgb(252, 151, 114)",scrollbarPadding:!1})},error:t=>{b.default.fire({title:"Notification",text:"Failed to delete appointment!",icon:"info",iconColor:"rgb(3, 108, 95)",confirmButtonText:"Close",confirmButtonColor:"rgb(252, 151, 114)",scrollbarPadding:!1})}})}assignDoctor(n){this.router.navigate(["/admin/assign-doctor"],{state:{patient:n}})}static \u0275fac=function(t){return new(t||a)};static \u0275cmp=M({type:a,selectors:[["app-patient-list"]],decls:8,vars:2,consts:[["noAppointments",""],[1,"list"],[1,"heading"],[1,"admin-container"],[1,"card-container"],[4,"ngIf","ngIfElse"],["class","card-wrapper",4,"ngFor","ngForOf"],[1,"card-wrapper"],[1,"patient-card"],[1,"card-header"],[1,"pat"],[1,"del",3,"click"],[1,"fas","fa-trash"],["mat-raised-button","","color","accent",3,"click"]],template:function(t,p){if(t&1&&(o(0,"div",1)(1,"h2",2),i(2,"Patient List"),e()(),o(3,"div",3)(4,"div",4),x(5,K,2,1,"div",5)(6,Q,2,0,"ng-template",null,0,S),e()()),t&2){let c=w(7);r(5),_("ngIf",p.appointments.length>0)("ngIfElse",c)}},dependencies:[R,V,j,D,N,B,F,T,L,k,E,I,A,G],styles:[".admin-container[_ngcontent-%COMP%]{width:100%;padding:20px;background:#f7efe8;overflow-y:scroll;scrollbar-width:none;height:800px}.list[_ngcontent-%COMP%]{width:100%;padding-top:2rem}.heading[_ngcontent-%COMP%]{font-size:2.5rem;font-weight:700;text-align:center;color:#036c5f;margin-bottom:20px}.card-container[_ngcontent-%COMP%]{display:flex;flex-wrap:wrap;gap:10px;justify-content:space-around;height:112vh;margin-bottom:4rem;overflow-y:scroll;scrollbar-width:none;margin-top:1rem}.card-wrapper[_ngcontent-%COMP%]{flex:1 1 calc(100% - 50px);width:calc(100% - 16px);margin-top:1rem}mat-card[_ngcontent-%COMP%]{margin-bottom:1.5rem;box-shadow:0 4px 8px #0000001a;border-radius:12px;transition:all .3s ease-in-out;background-color:#fff;overflow:hidden}mat-card[_ngcontent-%COMP%]:hover{transform:translateY(-5px);box-shadow:0 8px 16px #0003}.card-header[_ngcontent-%COMP%]{background-color:#036c5f;color:#fff;padding:10px 15px;display:flex;justify-content:space-between}.pat[_ngcontent-%COMP%]{width:100%}i[_ngcontent-%COMP%]{cursor:pointer}mat-card-title[_ngcontent-%COMP%]{font-size:1.3rem;font-weight:700}mat-card-subtitle[_ngcontent-%COMP%]{font-size:1rem;font-weight:400;color:#80cbc4}mat-card-content[_ngcontent-%COMP%]{padding:15px;color:#333;font-size:1rem;line-height:1.5}mat-card-actions[_ngcontent-%COMP%]{padding:10px;text-align:center;display:flex;justify-content:center;align-items:center}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:50%;background-color:#fc9772!important;color:#036c5f!important;font-size:1rem;text-transform:uppercase;border-radius:8px;padding:10px;transition:background-color .3s ease,transform .3s ease}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]:hover{transform:scale(1.05)}@media screen and (min-width: 128px) and (max-width: 900px){.admin-container[_ngcontent-%COMP%]{padding:1.5rem 10px .8rem}.list[_ngcontent-%COMP%]{margin-bottom:1rem}.heading[_ngcontent-%COMP%]{font-size:2rem;margin-bottom:15px}.card-container[_ngcontent-%COMP%]{height:auto;overflow-y:visible;flex-direction:column;gap:1rem;width:100%;display:flex;justify-content:center;align-items:center}.card-wrapper[_ngcontent-%COMP%]   .card-wrapper[_ngcontent-%COMP%]{flex:1 1 calc(100% - 50px);max-width:calc(100% - 50px);margin-top:1rem}mat-card[_ngcontent-%COMP%]{margin-bottom:1.5rem;box-shadow:0 4px 8px #0000001a;border-radius:12px;transition:all .3s ease-in-out;background-color:#fff;overflow:hidden}.card-header[_ngcontent-%COMP%]{padding:10px}mat-card-title[_ngcontent-%COMP%]{font-size:1.1rem}mat-card-subtitle[_ngcontent-%COMP%]{font-size:.9rem}mat-card-content[_ngcontent-%COMP%]{padding:10px;font-size:.9rem;line-height:1.4}mat-card-actions[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:90%;font-size:.9rem;padding:8px}}"]})};export{H as PatientListComponent};
